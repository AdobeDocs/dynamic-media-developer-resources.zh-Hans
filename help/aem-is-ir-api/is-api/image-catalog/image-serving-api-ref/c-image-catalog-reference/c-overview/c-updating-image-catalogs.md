---
description: 当服务器检测到主目录属性文件已被更改时，该服务器持续监视目录文件夹并自动重新加载图像目录，包括关联的目录数据文件。
solution: Experience Manager
title: 更新图像目录
feature: Dynamic Media Classic，SDK/API
role: Developer,Business Practitioner
exl-id: b520b4f3-6717-4768-99e2-78a76d1ede24
source-git-commit: 1ec8b59f442eb96c6c3f5f1405d57a38a86bd056
workflow-type: tm+mt
source-wordcount: '311'
ht-degree: 0%

---

# 更新图像目录{#updating-image-catalogs}

当服务器检测到主目录属性文件已被更改时，该服务器持续监视目录文件夹并自动重新加载图像目录，包括关联的目录数据文件。

要更新服务器上的图像目录，请首先替换所有需要更改的目录数据文件，然后替换（或“触屏”）目录属性文件以触发目录重新加载。

## 增量更新 {#section-2c0f2c1b8480486d86920b5f2cfe72d2}

加载和处理大型图像目录可能会给服务器带来大量负载，并且可能会对实时服务操作产生负面影响。 为了最大限度地减少此影响，建议实施增量目录更新机制，其工作方式如下：

在低流量时段，夜间会加载包含所有图像的主目录文件。 如果在一天中需要在图像目录中添加或更改记录，则会创建另一个图像数据文件，其中仅包含新记录或更改的记录。 此文件在`attribute::CatalogFile`中注册为次映像数据文件。 服务器检测到目录属性文件已更改，然后检查哪些目录数据文件已更改。 如果未处理主图像数据文件，则服务器仅加载或重新加载增量数据文件。 由于此文件通常比主目录文件小得多，因此与重新加载主目录相比，对服务器的影响会大大降低。

增量更新可以显着减少在大量流量期间对服务器的影响。 建议在低流量时段定期将增量目录数据文件合并到主目录数据文件中，以保持最佳服务器性能。
