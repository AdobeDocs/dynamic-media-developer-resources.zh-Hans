---
description: 服务器连续监视目录文件夹，并在检测到主目录属性文件已更改时自动重新加载图像目录，包括关联的目录数据文件。
solution: Experience Manager
title: 更新图像目录
feature: Dynamic Media Classic,SDK/API
role: Developer,User
exl-id: b520b4f3-6717-4768-99e2-78a76d1ede24
source-git-commit: 206e4643e3926cb85b4be2189743578f88180be7
workflow-type: tm+mt
source-wordcount: '306'
ht-degree: 0%

---

# 更新图像目录{#updating-image-catalogs}

服务器连续监视目录文件夹，并在检测到主目录属性文件已更改时自动重新加载图像目录，包括关联的目录数据文件。

要更新服务器上的图像目录，请先替换需要更改的所有目录数据文件，然后替换（或“触控”以更新文件日期）目录属性文件以触发目录重新加载。

## 增量更新 {#section-2c0f2c1b8480486d86920b5f2cfe72d2}

加载和处理大型图像目录可能会给服务器带来大量负载，并且可能对实时服务操作产生负面影响。 为了最大程度地降低此影响，建议实施增量目录更新机制，其原理如下：

包含所有图像的主目录文件在低流量时段每夜加载。 如果需要在白天添加或更改图像目录中的记录，则会创建另一个只包含新记录或更改的记录的图像数据文件。 此文件已注册为`attribute::CatalogFile`中的次映像数据文件。 服务器检测目录属性文件已更改，然后检查哪些目录数据文件已更改。 如果尚未接触主图像数据文件，则服务器仅加载或重新加载增量数据文件。 由于此文件通常比主目录文件小得多，因此，与重新加载主目录相比，对服务器的影响要小得多。

增量更新可以显着减少高流量期间对服务器的影响。 建议在低流量时段定期将增量目录数据文件合并到主目录数据文件中，以保持最佳服务器性能。
