---
description: textPs=支持本节中描述的许多不同使用模型。
solution: Experience Manager
title: 文本图层
feature: Dynamic Media Classic，SDK/API
role: Developer,User
exl-id: 6793eb7d-6c10-4136-b6d4-186a698a8e52
source-git-commit: 206e4643e3926cb85b4be2189743578f88180be7
workflow-type: tm+mt
source-wordcount: '891'
ht-degree: 0%

---

# 文本图层{#text-layers}

textPs=支持本节中描述的许多不同使用模型。

>[!NOTE]
>
>此部分不适用于`text=`。

常见规则和定义如下：

* 自调整文本层大小是指不包含`size=`命令或为其指定了`size=0,0`的层。

* 自调整文本层大小的图层大小取决于实际呈现的文本。
* 自调整文本层大小的默认层锚点通常位于层中心的&#x200B;*not*（请参阅下文）。
* 如果为自调整文本层大小指定了`anchor=`或`origin=`，则文本层的位置会受文本内容的影响。

* 当指定`size=`时，部分字符字形可以呈现在层矩形外部。
* `pos=` 可在所有情况下用于重新定位文本图层。

## 点文本（自动调整大小） {#section-db99ec98eb114458b2dbc9911a58f74a}

在未指定`size=`、`textPath=`或`textFlowPath=`的情况下，会模拟Photoshop样式的点文本。 `textPs=`图层大小由呈现文本的宽度水平确定，并由行间距垂直确定。 文本永远不会自动换行。

如果既未指定`anchor=`，也未指定`origin=`，则文本的第一行将位于紧靠层原点上方；标记有`\ql`的段落位于层原点的右侧，包含`\qr`的段落呈现在原点的左侧，而标记有`\qc`的段落则在原点周围水平居中。 如果指定了`anchor=`或`origin=`，则应用标准层定位规则。

如果指定了`color=`，则它将填充实际呈现文本的定界框。

将忽略以下RTF命令：`\qj`、`\marg*`、`\hyph*`、`\vertal*`。

## 矩形文本框 {#section-1d3ab11df26d4004a1a801546756475d}

如果除了`textPs=`（没有`textPath=`和`textFlowPath=`）之外还指定了`size=`，则文本将被限制在指定的矩形上。 该层照常定位。 文本框边缘附近的字符字形可能会部分呈现在文本框外部。

`color=` 填充由定义的区 `size=`域。

所有RTF命令均按预期应用。

## “变量高度”文本框 {#section-e1233d1c9f8e43218667361dc0c4fd06}

如果指定高度为0的`size=`，则可以垂直调整文本框的大小以容纳所有内容。 图层宽度由`size=`的宽度和图层高度由实际呈现文本的高度来定义。 该层照常定位。 文本框左右边缘附近的字符字形可能会部分呈现在文本框外部。

`color=` 填充由指定的宽度和实际 `size=` 呈现文本的高度定义的矩形。

将忽略以下RTF命令：

`\vertal*`

## 路径中的自我调整文本大小 {#section-d26685e7085847efaaeba64b9cb5ed9f}

`textFlowPath=` 与一起使 `textPs=` 用可定义应流入文本的一个或多个区域。`textFlowXPath=` 可以选择性地指定以排除文本流入一个或多个区域。如果未指定`size=`，则生成的文本层将自行调整大小，并且图层大小由实际呈现的文本的边框确定。

如果既未指定`origin=`也未指定`anchor=`，则层锚点将默认为用于定义路径的像素坐标空间的(0,0)，这可确保无论呈现的文本如何都实现绝对定位。 如果指定了`anchor=`或`origin=`，则层相对于（并适应）呈现的实际内容的边界框定位。

`color=` 填充实际呈现文本的定界框。

将忽略以下RTF命令：

`\marg*`

## 路径中的文本的预大小 {#section-ed492a8a54414cd4bde360500cec6968}

如果与`textFlowPath=`一起指定了`size=`，则预先确定层大小。 (0,0)用于定义路径的像素坐标空间位于层矩形的左上角。

`textFlowPath=`区域可位于层矩形的外部。 文本将始终被流动并呈现到所有路径区域中，即使这会导致文本在层矩形外部呈现。 `extend=0,0,0,0`可用于将呈现的文本裁剪到图层矩形。

出于层定位目的，层矩形基于指定的`size=`，而不考虑实际呈现的文本量，即使其中一些文本位于层矩形之外。 标准层定位适用。

`color=` 填充由定义的矩形区 `size=`域。

`textFlowPath=`将忽略以下RTF命令：

`\marg*`

## 在路径上自行调整文本大小 {#section-7ce6b9b26b354ba381e4378703154062}

`textPath=` 定义应将通过指定的文本呈现到的一 `textPs=` 个或多个路径。未指定`size=`时，生成的文本层将自行调整大小。 图层大小由实际呈现文本的定界框决定。

如果既未指定`origin=`，也未指定`anchor=`，则层锚点默认为用于定义路径的像素坐标空间的(0,0);无论呈现多少文本，都会固定呈现文本的位置。 如果指定了`anchor=`或`origin=`，则层相对于（并适应）呈现的实际内容的边界框定位。

`color=` 填充实际呈现文本的定界框。

将忽略以下RTF命令：

* `\marg*`
* `\hyph*`
* `\vertal*`

将忽略第一个`\par`或`\line`之后的任何文本。

## 路径上的预定大小文本 {#section-a3bbbc5187f448b192e53d27e2c53f2f}

如果与`textPath=`一起指定了`size=`，则预先确定层大小。 (0,0)用于定义路径的像素坐标空间位于层矩形的左上角。

路径可以部分地或完全地位于层矩形的外部。 文本将始终沿整个路径应用和渲染，即使在图层矩形外部也是如此。 `extend=0,0,0,0` 可用于将呈现的文本裁剪到图层矩形。

出于层定位目的，即使某些文本呈现在层矩形之外，层矩形仍基于指定的`size=`。 标准层定位适用。

`color=` 填充由定义的区 `size=`域。

将忽略以下RTF命令：

* `\marg*`
* `\q*`
* `\marg*`
* `\hyph*`
* `\vertal*`

将忽略第一个`\par`或`\line`之后的任何文本。
