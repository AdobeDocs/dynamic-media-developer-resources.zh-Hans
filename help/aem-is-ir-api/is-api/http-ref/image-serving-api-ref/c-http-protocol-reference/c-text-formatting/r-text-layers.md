---
description: textPs=支持本节所述许多不同的使用模式。
solution: Experience Manager
title: 文本图层
feature: Dynamic Media Classic,SDK/API
role: Developer,User
exl-id: 6793eb7d-6c10-4136-b6d4-186a698a8e52
source-git-commit: 97fbf820590b53de5a1e6ce904e44d6b0ef9a214
workflow-type: tm+mt
source-wordcount: '888'
ht-degree: 0%

---

# 文本图层{#text-layers}

textPs=支持本节所述许多不同的使用模式。

>[!NOTE]
>
>此分区不适用于`text=`。

常见的规则和定义如下：

* 自调整文本图层大小是指不包含`size=`命令或为其指定了`size=0,0`的图层。

* 自调整大小的文本图层的图层大小由渲染的实际文本决定。
* 自动调整文本图层的默认图层锚点通常位于图层的中心&#x200B;*而非*（见下文）。
* 如果为自动调整文本图层大小指定了`anchor=`或`origin=`，则文本图层的位置受文本内容的影响。

* 当指定`size=`时，部分字符字符字符可能会呈现在图层矩形的外部。
* 在所有情况下都可以使用`pos=`来重新定位文本图层。

## 点文本（自调整大小） {#section-db99ec98eb114458b2dbc9911a58f74a}

当指定`textPs=`而不指定`size=`、`textPath=`或`textFlowPath=`时，模拟Photoshop样式点文本。 图层大小由渲染文本的宽度水平确定，由行间距垂直确定。 文本从不自动换行。

如果未指定`anchor=`或`origin=`，则文本的第一行将位于图层原点的正上方；标有`\ql`的段落将位于图层原点的右侧，包含`\qr`的段落将渲染到原点的左侧，包含`\qc`的段落将水平居中于原点的周围。 如果指定了`anchor=`或`origin=`，则应用标准层定位规则。

如果指定了`color=`，它会填充渲染的实际文本的定界框。

已忽略以下RTF命令： `\qj`、`\marg*`、`\hyph*`、`\vertal*`。

## 矩形文本框 {#section-1d3ab11df26d4004a1a801546756475d}

如果除了`textPs=`之外还指定了`size=`（不包括`textPath=`和`textFlowPath=`），则文本将约束到指定的矩形。 图层按常规方式放置。 文本框边缘附近的字符字形可能会部分呈现在文本框的外部。

`color=`填充由`size=`定义的区域。

所有RTF命令均按预期应用。

## “可变高度”文本框 {#section-e1233d1c9f8e43218667361dc0c4fd06}

指定高度为0的`size=`允许文本框按垂直大小调整以容纳所有内容。 图层宽度由`size=`的宽度定义，图层高度由实际渲染文本的高度定义。 图层按常规方式放置。 文本框的左边缘和右边缘附近的字符字形可能在文本框的外部呈现一部分。

`color=`填充由使用`size=`指定的宽度和所呈现的实际文本的高度定义的矩形。

忽略以下RTF命令：

`\vertal*`

## 在路径中自动调整文本大小 {#section-d26685e7085847efaaeba64b9cb5ed9f}

`textFlowPath=`与`textPs=`结合使用可以定义文本应流入的一个或多个区域。 可以选择指定`textFlowXPath=`以排除文本流入一个或多个区域。 如果未指定`size=`，则生成的文本图层将自行调整大小，图层大小由实际渲染的文本定界框决定。

如果既未指定`origin=`也未指定`anchor=`，则图层锚点默认为用于定义路径的像素坐标空间的(0,0)，从而确保绝对定位，而不管渲染的文本如何。 如果指定了`anchor=`或`origin=`，则图层将相对于（并适应）渲染的实际内容的边界框定位。

`color=`填充呈现的实际文本的定界框。

忽略以下RTF命令：

`\marg*`

## 路径中预先设置的文本 {#section-ed492a8a54414cd4bde360500cec6968}

如果将`size=`与`textFlowPath=`一起指定，则图层大小是预先确定的。 用于定义路径的像素坐标空间的(0,0)位于图层矩形的左上角。

`textFlowPath=`区域可能位于图层矩形之外。 文本始终会流动并渲染到所有路径区域中，即使这会导致文本在图层矩形之外渲染。 `extend=0,0,0,0`可用于将渲染的文本裁切到图层矩形。

出于图层定位目的，图层矩形基于指定的`size=`，而不管实际渲染了多少文本，即使其中某些文本位于图层矩形之外也是如此。 标准层定位适用。

`color=`填充由`size=`定义的矩形区域。

已忽略`textFlowPath=`的以下RTF命令：

`\marg*`

## 在路径上调整文本大小 {#section-7ce6b9b26b354ba381e4378703154062}

`textPath=`定义一个或多个路径，使用`textPs=`指定的文本应呈现在这些路径上。 如果未指定`size=`，则生成的文本图层将自定大小。 图层大小由渲染的实际文本的定界框决定。

如果既未指定`origin=`也未指定`anchor=`，则图层锚点默认为用于定义路径的像素坐标空间的(0,0)；渲染的文本的位置是固定的，无论渲染多少文本。 如果指定了`anchor=`或`origin=`，则图层将相对于（并适应）渲染的实际内容的边界框定位。

`color=`填充呈现的实际文本的定界框。

忽略以下RTF命令：

* `\marg*`
* `\hyph*`
* `\vertal*`

忽略第一个`\par`或`\line`之后的任何文本。

## 路径上预先设置的文本 {#section-a3bbbc5187f448b192e53d27e2c53f2f}

如果将`size=`与`textPath=`一起指定，则图层大小是预先确定的。 用于定义路径的像素坐标空间的(0,0)位于图层矩形的左上角。

路径可以部分或完全位于图层矩形的外部。 文本始终沿整个路径应用和渲染，即使是在图层矩形之外也是如此。 `extend=0,0,0,0`可用于将渲染的文本裁切到图层矩形。

出于图层定位目的，图层矩形基于指定的`size=`，即使某些文本在图层矩形之外呈现也是如此。 标准层定位适用。

`color=`填充`size=`定义的区域。

忽略以下RTF命令：

* `\marg*`
* `\q*`
* `\marg*`
* `\hyph*`
* `\vertal*`

忽略第一个`\par`或`\line`之后的任何文本。
